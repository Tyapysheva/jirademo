<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Загрузка сотрудников в JIRA</title>

    <link rel="stylesheet" th:href="@{/external/mdl-v1.1.2/material.css}"/>
    <link rel="stylesheet" th:href="@{/css/style.css}"/>

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>

    <div class="layout mdl-layout mdl-js-layout">
        <div th:replace="fragments :: header" />

        <main class="mdl-layout__content">
            <div class="mdl-grid">
                <section class="card-block mdl-shadow--2dp mdl-cell mdl-cell--12-col-desktop mdl-cell--12-col-tablet mdl-cell--12-col-phone">
                    <div class="data-block">
                        <form method="POST" th:action="@{/settings}">
                            <div class="mdl-textfield mdl-js-textfield">
                                <input type="text" id="address" name="address" th:value="${address}" class="mdl-textfield__input" />
                                <label class="mdl-textfield__label" for="address">URL сервера Jira Cloud</label>
                            </div>
                            <div class="mdl-textfield mdl-js-textfield">
                                <input type="text" id="username" name="username" th:value="${username}" class="mdl-textfield__input" />
                                <label class="mdl-textfield__label" for="username">Имя пользователя</label>
                            </div>
                            <div class="mdl-textfield mdl-js-textfield">
                                <input type="text" id="token" name="token" th:value="${token}" class="mdl-textfield__input" />
                                <label class="mdl-textfield__label" for="token">Токен</label>
                            </div>
                            <div>
                                <button name="submit" value="save" class="mdl-button mdl-js-button mdl-button--colored">
                                    Сохранить настройки
                                </button>
                                <button name="submit" value="cancel" class="mdl-button mdl-js-button mdl-button--raised">
                                    Отменить
                                </button>
                            </div>
                        </form>
                    </div>
                </section>
            </div>
        </main>
        <div id="error-popup" class="mdl-js-snackbar mdl-snackbar">
            <div class="mdl-snackbar__text"></div>
            <button type="button" class="mdl-snackbar__action"></button>
        </div>

        <div id="demo-snackbar-example" class="mdl-js-snackbar mdl-snackbar">
            <div class="mdl-snackbar__icon">
                <i class="material-icons">email</i>
            </div>
            <div class="mdl-snackbar__text"></div>
            <button class="mdl-snackbar__action" type="button"></button>
        </div>

        <div th:replace="fragments :: footer" />
    </div>
<!--    <script type="text/javascript" th:src="@{webjars/bootstrap/4.2.1/js/bootstrap.min.js}"></script>-->
    <script type="text/javascript" th:src="@{webjars/jquery/3.5.1/jquery.js}"></script>
    <script type="text/javascript" th:src="@{/external/mdl-v1.1.2/material.js}"></script>
    <script th:inline="javascript">
        let errorMessage = /*[[${errorMessage}]]*/ "";

        (function () {
            'use strict';
            var snackbarContainer = document.querySelector('#error-popup');
            window.addEventListener('load', function () {
                'use strict';
                if (errorMessage && errorMessage.length > 0) {
                    var data = {
                        message: errorMessage,
                        timeout: 15000,
                    };

                    snackbarContainer.MaterialSnackbar.showSnackbar(data);
                }
            });
        })();
    </script>
</body>
</html>